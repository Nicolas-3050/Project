{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seill\\\\OneDrive\\\\Documents\\\\web_services\\\\sumatohomu\\\\src\\\\components\\\\Login.tsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Collapse, Paper, Stack, TextField, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useContext, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useTheme } from \"../themes/ThemeProvider\";\nimport { AlertContext } from \"./utils/AlertProvider\";\nimport { useAuth } from \"./utils/AuthProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const {\n    palette,\n    shape,\n    shadows\n  } = useTheme();\n  const [isSignup, setIsSignup] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    signin,\n    signup\n  } = useAuth();\n  const {\n    showAlert\n  } = useContext(AlertContext);\n\n  const toggle = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n    setUsername(\"\");\n    setIsSignup(!isSignup);\n  };\n\n  const handleClick = () => {\n    if (isSignup) {\n      signup(email, username, password, err => {\n        if (!err) {\n          setIsSignup(false);\n        } else {\n          showAlert(\"warning\", \"Impossible de s'enregister\");\n        }\n      });\n    } else {\n      signin(email, password, err => {\n        if (!err) {\n          navigate(location.state && location.state.from ? location.state.from.pathname : \"/\");\n        } else {\n          showAlert(\"warning\", \"Impossible de s'identifier\");\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      height: \"100vh\",\n      width: \"100%\",\n      margin: 0,\n      padding: 0\n    },\n    bgcolor: palette.grey[200],\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        width: 600,\n        height: 400,\n        borderRadius: shape.borderRadius,\n        overflow: \"hidden\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        margin: 2\n      },\n      elevation: 5,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        padding: 1,\n        bgcolor: palette.primary.light,\n        boxShadow: shadows[2],\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          fontWeight: \"light\",\n          textAlign: \"center\",\n          color: palette.primary.contrastText,\n          children: \"SumatoHomu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        flexDirection: \"column\",\n        flexGrow: 1,\n        padding: 3,\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 2,\n          sx: {\n            width: \"100%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"E-Mail\",\n            placeholder: \"guy.tarsesh@lol.com\",\n            type: \"email\",\n            required: true,\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n            in: isSignup,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              label: \"Nom d'utilisateur\",\n              type: \"text\",\n              required: true,\n              value: username,\n              onChange: e => setUsername(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Mot de passe\",\n            type: \"password\",\n            required: true,\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClick,\n          variant: \"contained\",\n          sx: {\n            marginTop: \"auto\",\n            borderRadius: shape.borderRadius,\n            backgroundColor: palette.primary.light\n          },\n          children: isSignup ? \"M'inscrire\" : \"M'identifier\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: toggle,\n      children: isSignup ? \"Je suis déjà inscrit\" : \"M'enregistrer plutôt\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"EkgUDcseUir+jcef53uMOjpXnvA=\", false, function () {\n  return [useTheme, useLocation, useNavigate, useAuth];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/seill/OneDrive/Documents/web_services/sumatohomu/src/components/Login.tsx"],"names":["Button","Collapse","Paper","Stack","TextField","Typography","Box","useContext","useState","useLocation","useNavigate","useTheme","AlertContext","useAuth","Login","palette","shape","shadows","isSignup","setIsSignup","email","setEmail","password","setPassword","username","setUsername","location","navigate","signin","signup","showAlert","toggle","handleClick","err","state","from","pathname","height","width","margin","padding","grey","borderRadius","overflow","display","flexDirection","primary","light","contrastText","e","target","value","marginTop","backgroundColor"],"mappings":"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","sourcesContent":["import {\r\n  Button,\r\n  Collapse,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport { FunctionComponent, useContext, useState } from \"react\";\r\nimport { Location, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useTheme } from \"../themes/ThemeProvider\";\r\nimport { AlertContext } from \"./utils/AlertProvider\";\r\nimport { useAuth } from \"./utils/AuthProvider\";\r\n\r\nconst Login: FunctionComponent = () => {\r\n  const { palette, shape, shadows } = useTheme();\r\n  const [isSignup, setIsSignup] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { signin, signup } = useAuth();\r\n  const { showAlert } = useContext(AlertContext);\r\n\r\n  const toggle = () => {\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n    setUsername(\"\");\r\n    setIsSignup(!isSignup);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    if (isSignup) {\r\n      signup(email, username, password, (err?: any) => {\r\n        if (!err) {\r\n          setIsSignup(false);\r\n        } else {\r\n          showAlert(\"warning\", \"Impossible de s'enregister\");\r\n        }\r\n      });\r\n    } else {\r\n      signin(email, password, (err?) => {\r\n        if (!err) {\r\n          navigate(\r\n            location.state && (location.state as any).from\r\n              ? ((location.state as any).from as Location).pathname\r\n              : \"/\"\r\n          );\r\n        } else {\r\n          showAlert(\"warning\", \"Impossible de s'identifier\");\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{ height: \"100vh\", width: \"100%\", margin: 0, padding: 0 }}\r\n      bgcolor={palette.grey[200]}\r\n      display=\"flex\"\r\n      justifyContent=\"center\"\r\n      alignItems=\"center\"\r\n      flexDirection=\"column\"\r\n    >\r\n      <Paper\r\n        sx={{\r\n          width: 600,\r\n          height: 400,\r\n          borderRadius: shape.borderRadius,\r\n          overflow: \"hidden\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          margin: 2,\r\n        }}\r\n        elevation={5}\r\n      >\r\n        <Box padding={1} bgcolor={palette.primary.light} boxShadow={shadows[2]}>\r\n          <Typography\r\n            variant=\"h5\"\r\n            fontWeight=\"light\"\r\n            textAlign=\"center\"\r\n            color={palette.primary.contrastText}\r\n          >\r\n            SumatoHomu\r\n          </Typography>\r\n        </Box>\r\n        <Box\r\n          display=\"flex\"\r\n          flexDirection=\"column\"\r\n          flexGrow={1}\r\n          padding={3}\r\n          alignItems=\"center\"\r\n        >\r\n          <Stack spacing={2} sx={{ width: \"100%\" }}>\r\n            <TextField\r\n              fullWidth\r\n              label=\"E-Mail\"\r\n              placeholder=\"guy.tarsesh@lol.com\"\r\n              type=\"email\"\r\n              required\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            ></TextField>\r\n            <Collapse in={isSignup}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Nom d'utilisateur\"\r\n                type=\"text\"\r\n                required\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n              ></TextField>\r\n            </Collapse>\r\n            <TextField\r\n              fullWidth\r\n              label=\"Mot de passe\"\r\n              type=\"password\"\r\n              required\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            ></TextField>\r\n          </Stack>\r\n          <Button\r\n            onClick={handleClick}\r\n            variant=\"contained\"\r\n            sx={{\r\n              marginTop: \"auto\",\r\n              borderRadius: shape.borderRadius,\r\n              backgroundColor: palette.primary.light,\r\n            }}\r\n          >\r\n            {isSignup ? \"M'inscrire\" : \"M'identifier\"}\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n      <Button onClick={toggle}>\r\n        {isSignup ? \"Je suis déjà inscrit\" : \"M'enregistrer plutôt\"}\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}